# FuncPeek Pre-Packaging Test Checklist

## 环境准备
- [ ] VSCode 已安装
- [ ] 扩展已编译 (`npm run compile`)
- [ ] 没有编译错误

## 核心功能测试

### 1. 符号选择功能
- [ ] **函数名选择**: 只选择函数名(如 `calculateSum`),执行命令,能找到引用
- [ ] **类名选择**: 只选择类名(如 `TaskManager`),执行命令,能找到引用
- [ ] **变量名选择**: 只选择变量名(如 `API_URL`),执行命令,能找到引用
- [ ] **方法名选择**: 只选择方法名(如 `addTask`),执行命令,能找到引用
- [ ] **光标位置**: 不选择,只将光标放在标识符上,能自动识别

### 2. 函数类型支持
- [ ] **普通函数**: `function foo() {}` 正常工作
- [ ] **箭头函数**: `const foo = () => {}` 正常工作
- [ ] **类方法**: `class { method() {} }` 正常工作
- [ ] **异步函数**: `async function foo() {}` 正常工作

### 3. Webview 显示
- [ ] Webview 成功打开
- [ ] 显示函数签名
- [ ] 显示参数列表
- [ ] 显示返回类型
- [ ] 显示文件位置和行号
- [ ] 显示使用示例
- [ ] 显示真实代码引用(如果找到)

### 4. 按钮功能
- [ ] **Copy 按钮**: 点击后代码被复制到剪贴板
- [ ] **Copy 按钮反馈**: 点击后按钮文本变为"Copied!"然后恢复
- [ ] **AI 配置按钮**: 未配置AI时显示"⚙️ Configure AI"
- [ ] **AI 配置按钮点击**: 点击后打开VSCode设置页面
- [ ] **Generate with AI 按钮**: 配置AI后显示此按钮(可选测试)

### 5. 引用查找
- [ ] 使用 VSCode 内置引用查找
- [ ] 如果内置查找失败,回退到工作区搜索
- [ ] 显示引用的文件路径和行号
- [ ] 显示引用的代码上下文

### 6. 响应式布局
- [ ] Webview 宽度可调节
- [ ] 窄屏幕下布局正常
- [ ] 宽屏幕下布局正常
- [ ] 代码块超长时可横向滚动
- [ ] 没有固定宽度限制

### 7. 历史功能
- [ ] 查看多个函数后有历史记录
- [ ] 历史记录显示时间戳
- [ ] "Clear History"命令可清除历史
- [ ] 清除后历史记录为空

### 8. 错误处理
- [ ] 选择无效文本时显示友好提示
- [ ] 没有活动编辑器时显示提示
- [ ] 找不到引用时不崩溃
- [ ] 控制台没有错误

### 9. 性能测试
- [ ] 大文件中搜索不卡顿
- [ ] Webview 渲染快速
- [ ] 切换不同符号响应迅速

### 10. 语言支持
- [ ] TypeScript (.ts) 文件正常工作
- [ ] TypeScript React (.tsx) 文件正常工作
- [ ] JavaScript (.js) 文件正常工作
- [ ] JavaScript React (.jsx) 文件正常工作

## 打包前最终检查
- [ ] `npm run compile` 无错误
- [ ] 所有核心功能测试通过
- [ ] README.md 已更新
- [ ] package.json 版本号正确
- [ ] 没有控制台错误或警告
- [ ] 所有依赖正确安装

## 打包命令
```bash
npm run create-vsix
```

## 测试安装
```bash
code --install-extension funcpeek-0.0.1.vsix
```

## 测试文件
使用 `MANUAL_TEST.ts` 文件进行手动测试。
使用 `test-example.ts` 文件进行完整功能测试。

---

**日期**: ___________
**测试者**: ___________
**结果**: [ ] 通过 [ ] 失败
**备注**: ___________
